<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ChickenPox - Procedural World</title>
    <link href="css/bootstrap-cyborg.css" rel="stylesheet">
    <link href="assets/icon.png" rel="shortcut icon">
</head>
<body>

    <div class="container">
<!--        <h1 class ="col-lg-offset-4 col-lg-6">Chicken Pox</h1>
        <hr/>
        <div class ="navbar">
            <ul class="nav nav-tabs col-lg-offset-3 col-lg-6">
                <li role="presentation"><a href="index.html">Home</a></li>
                <li role="presentation"><a href="test.html">Test - 1</a></li>
                <li role="presentation" class="active"><a href="test2.html">Test - 2</a></li>
            </ul>
        </div> -->
        <div  class="col-lg-offset-1 col-lg-10" id="game" />
    </div >

    <script type="text/javascript" src="js/phaser.min.js"></script>
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
</body>
</html>


<script type="text/javascript">

    var game = new Phaser.Game(900, 500, Phaser.AUTO, 'game', { preload: preload, create: create, update: update });

    function preload() {
        game.load.spritesheet('sm_planet', 'assets/planet_background1.png', 25, 25);
        game.load.spritesheet('med_planet', 'assets/planet_background1.png', 50, 50);
        game.load.spritesheet('lg_planet', 'assets/planet_background1.png', 100, 100);

        game.load.image('star', 'assets/star.png');
        game.load.image('starsbg', 'assets/Background-2.jpg') // 2048 x 1536
        game.load.spritesheet('chicken', 'assets/chicken_spritesheet_75x90.png', 75, 90, 4, -5);
    }

    function create() {

        game.stage.backgroundColor = '#2d2d2d';
        game.physics.startSystem(Phaser.Physics.NINJA);




        upKey = game.input.keyboard.addKey(Phaser.Keyboard.UP);
    }

    var planetSizeSprites = ['sm_planet', 'med_planet', 'lg_planet'];
    var planetFrames = [784, 196, 49];
    var planetSizes = [25, 50, 100];

    function update() {

        if (upKey.isDown)
        {

            planetX = randomNum(game.world.width);
            planetY = randomNum(game.world.height);

            sizeChoice = randomNum(planetSizeSprites.length)

            planet = game.add.sprite(planetX, planetY, planetSizeSprites[sizeChoice]);
            planet.frame = randomNum(planet.animations.frameTotal);

            planetMask = game.add.graphics(0, 0);
//
//            //	Shapes drawn to the Graphics object must be filled.
            planetMask.beginFill(0xffffff);
//
//            //	Here we'll draw a circle
            planetMask.drawCircle(planetX + planetSizes[sizeChoice] / 2,
                    planetY + planetSizes[sizeChoice] / 2,
                    planetSizes[sizeChoice] / 2);
//
//            //	And apply it to the Sprite
            planet.mask = planetMask;
        }

    }

    function randomNum(x){
        return Math.floor((Math.random() * x));
    }

</script>